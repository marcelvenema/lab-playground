---

#########################################################
## Sonatype Nexus update module                        ##
#########################################################

# Validate global variables
- name: Validate global variables for Sonaytype Nexus update module.
  assert:
    that: "{{ varitem }} is defined"
    fail_msg: "Required variable '{{ varitem }}' has not been provided."
    quiet: true
  loop_control:
    loop_var: varitem
  loop: 
    - nexus_repository_address
    - nexus_repository_username
    - nexus_repository_password

#########################################################
## Sonatype Nexus update                               ##
#########################################################

- block:

  # Validate local variables
  - name: Validate local variables for Nexus Repository update action.
    assert:
      that: "{{ varitem }} is defined"
      fail_msg: "Required variable '{{ varitem }}' has not been provided."
      quiet: true
    loop_control:
      loop_var: varitem
    loop: 
      - nexus_firstname

  # Show information message
  - name: This part is not (yet) implemented.
    debug:
      msg: "This part is not (yet) implemented."

  # Stop playbook
  - name: Stop playbook
    meta: end_play
  
  when: action == "update"
  